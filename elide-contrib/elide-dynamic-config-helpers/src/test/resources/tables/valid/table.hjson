{
    tables: [
{
        name: PlayerStats
        table: player_stats
        schema: gamedb
        description:
        '''
        A long description
        '''
        cardinality : large
        readAccess : Prefab.Role.All
        joins: [
            {
                name: playerCountry
                to: country
                type: toOne
                definition: '${to}.id = ${from}.country_id'
            }
        ]
        measures : [
            {
            name : highScore
            type : INTEGER
            definition: 'MAX(score)'
            }
        ]
        dimensions : [
            {
                name : countryCode
                type : TEXT
                definition : playerCountry.isoCode
            },
            {
                name : createdOn
                type : TIME
                definition : create_on
                grain:
                {
                    type :  SIMPLEDATE
                    sql :  '''
                    PARSEDATETIME(FORMATDATETIME(${column}, 'yyyy-MM-dd'), 'yyyy-MM-dd')
                    '''
                }
            }
        ]
    },
    {
        name: PlayerStatsExtends
        extend: PlayerStats
        description:
        '''
        extends Player stats
        '''
        cardinality : large
        readAccess : Prefab.Role.All

        measures : [
            {
                name : highScore
                type : INTEGER
                override : true
                definition: 'MAX(score)'
            },
            {
                name : AvgScore
                type : INTEGER
                override : false
                definition: 'AVG(score)'
            }

        ]
    }
    ]
}
